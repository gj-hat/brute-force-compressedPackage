# 基于python的暴力破解压缩包小工具

## 软件介绍
> 这种工具网络上比比皆是,各路大神做的破解也是神仙打架现场.
> 但是作者遇到一个7z的加密压缩包且在mac系统下,  由于这两个要求的限制一时间网络上竟找不出一款替代软件.
> 这才耗时一下午写了这么一个小玩意 . 

1. 一开始思路单纯暴力破解,但是面对数以百亿千亿的可能性组合, 且每一次尝试都需要访问系统IO 实测速度大致5条/s  
2. 进而开始第一次优化--- 多线程技术
   在尝试之后发现 python的多线程并不是像其他语言一样传统的多线程,python在多线程会存在GIL锁的缘故频繁的访问IO,实际加速效果20条/s 差强人意
3. 第二次优化 --- 多进程 并行
   这次效果还可以  在m1Pro处理开始10个进程多IO的情况下 速度可以提升至1000-2000条/s  CPU性能达到98% 此时暂可以认为是代码优化的极限
4. 第三次优化 --- 操作逻辑
   由于并行的优化已经完全发挥了CPU的性能, 进而只能在操作逻辑上进行优化, 随即想到:
   可以自定义字符集来大大缩小可能的情况, 比如用户可以大致想起来自己的密码没有任何大写字母 且特殊字符也在某一区间内  又或者说 密码的长度有一个大致区间
   经过计算 CPU的IO极限是1000-2000条/s 但是在庞大的字符集面前还是相形见绌, 但是在人工干预的情况下可以将这个字符集缩小千分之五左右 姑且认为这是操作逻辑逻辑和代码的极限
5. 第四次优化 ---- 密码本 
   在如此庞大的数字面前仿佛密码本是一个不错的选择 但是针对某一特定且人为强干预密码效果见微, 本次优化最终放弃
6. 第五次优化 --- 随机字符串
   此次优化在代码方面仅仅改动一行 遍历方面使用`itertools.permutations()`这是个暴力循环遍历 原始字符集是按顺序的ascii码,考虑到现实中几乎不可能会出现abcd....诸如此类的密码串
   随即将顺序ascii码更换为随机ascii组合 在生日悖论下 成功率大致可以提升30%左右
7. 第六次优化 --- 人工智能
   还没做  完成了再说

## 软件基本功能
1. 底层使用python多进程进行优化速度
2. 系统默认字符集是abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.!@#$%^&*()_+-=[]{}|;\':",<>?/的组合,如果需要增加或者减少可以通过下面的使用说明进行自定义
3. 由于zip,rar,7z的加密格式不同,系统需要根据文件的后缀来判断文件类型
4. 由于python的"假线程"


## 使用方法
> 系统基于python3 pip3

1. 系统强依赖`py7zr` 使用时请先安装`pip install py7zr`
2. 参数帮助: `python3 main.py -h`  可以查看帮助信息
3. 命令行参数:
   1. `-l`: 您可以想起的大致密码长度区间 例如: 7-14 代表7到14位
   2. `-t`: 进程数 这取决于您的CPU 如果不清楚请忽略 (配置过高可能会导致电脑死机)
   3. `-o`: 输出文件路径  系统默认原压缩文件的同级目录 文件名为: `原文件名_out.txt`
   4. `-p`: 您可以想到的可能的字符串 比如您确定密码中可能有小写数字和特殊字符@ 此处可填:`abcdefghijklmnopqrstuvwxyz0123456789@`
   5. 后面加上压缩包的路径(注意: 不含中文名和小数点)


## 其他
暂时没有了  想到再补充
项目同级测试1111.7z的密码abcdefg11